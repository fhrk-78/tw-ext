(function(Scratch) {
    'use strict';

    if (!Scratch.extensions.unsandboxed) {
        throw new Error('This Hello World example must run unsandboxed');
    }

    class DataOperationPlusPlus {
        getInfo() {
            return {
                id: 'dataoperationpp',
                name: "Let's operation some data.",
                docsURI: 'https://github.com/forestrharumaki/tw-ext',
                blocks: [{
                    opcode: 'spritWithChar',
                    blockType: Scratch.BlockType.REPORTER,
                    text: 'Sprit [BEFORE] with [DELIMITER]',
                    arguments: {
                        BEFORE: {
                            type: Scratch.ArgumentType.STRING,
                            defaultValue: 'I like apple'
                        },
                        DELIMITER: {
                            type: Scratch.ArgumentType.STRING,
                            defaultValue: ' '
                        }
                    }
                }]
            };
        }

        spritWithChar(args) {
            return '[' + ((args.BEFORE).split(args.DELIMITER)).join(',') + ']';
        }
    }

    Scratch.extensions.register(new DataOperationPlusPlus());
})(Scratch);
